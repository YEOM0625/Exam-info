# 프로토콜
## 프로토콜
- 컴퓨터나 통신 장비 간 원활한 데이터 교환을 위한 표준화된 <u>통신 규약</u>

### 통신 프로토콜의 기본요소★★★ 3요소!
- 구문(Syntax)
  - 데이터의 형식,부호화,신호 레벨 등을 규정
- 의미(Semantics)
  - 효율적이고 정확한 정보 전송을 위한 협조 사항 및 오류 관리 제어 정보를 규정
- 타이밍(Timing)
  - 통신 속도, 메시지 순서 제어 등을 규정

### 프로토콜의 기능
- 단편화와 재결합
- 캡슐화
- **흐름제어**
- **오류제어**
- 혼잡제어
- 동기화
- 순서제어
- 주소지정
- 다중화
- 경로제어

## 흐름제어와 오류제어
### 흐름제어
- 수신측의 처리 능력에 맞춰 송신측에서 데이터의 전송량이나 속도를 조절하는 기능
- **Stop and Wait 방식**
  - 각 패킷 전송 후 확인 응답을 받고 나서 다음 패킷을 전송하는 방법
  - 현대의 빠른 네트워크 환경에서는 거의 사용되지 않음
- **Sliding Window 방식**
  - 수신측에서 설정한 윈도우 크기만큼 송신측에서 확인 응답 없이 패킷을 연속적으로 전송할 수 있게 하는 방법
  - 전송 효율을 크게 향상시키는 방식
- **피기배킹(piggybacking)**
  - <u>양방향 통신</u>에서 정보 프레임과 응답 프레임을 동시에 <u>교차 전송</u>하는 방식
  - 수신측이 별도의 확인 응답(ACK)프레임을 보내지 않고, 데이터 전송 프레임에 <u>응답 기능</u>을 포함시켜 효율을 높임

### 오류 제어
- 전송 중에 발생하는 오류를 검출하고 정정하는 기능
- TCP 프로토콜은 ARQ(Automatic Repeat Request)를 사용하여 재전송 기반 오류 제어 수행
- **Stop and Wait ARQ**
  - 데이터 전송 후, 수신측으로부터의 확인 응답을 받을 때까지 대기하고, 그 후에 다음 데이터를 전송하는 방식
- **Go Back ARQ**
  - 오류가 발생한 지점부터 모든 데이터를 재전송하는 기법
  - 오류 발견 시 NACK(Negative Ackknowledgment)신호를 송신측에 보내고, 오류 이후의 데이터 폐기
  - 중복 전송의 단점
- **Selective Repeat ARQ**
  - 여러 프레임을 연속적으로 전송하고, 수신측에서 NACK을 보내면 오류가 발생한 프레임만 송신측이 재전송 
  - 데이터 재정렬을 위한 별도의 버퍼가 필요
- **Adaptive ARQ**
  - 전송 효율을 최대하기 위해 데이터 프레임의 길이를 동적으로 조정하는 방식

### 오류 발생 원인
- **감쇠(Attenuation)**
  - 전송 신호가 전송 매체를 통과하는 과정에서 신호가 점점 약해지는 현상 
- **지연 왜곡(Delay Distortion)**
  - 주로 유선 전송 매체에서 발생하는 오류
  - 같은 매체를 통해 전송되는 여러 신호가 주파수에 따라 전송 속도가 달라져 발생
  - 각 신호의 도달 시간 차이로 인해 왜곡 발생
- **상호 변조 잡음(Intermodulation Noise)**
  - 서로 다른 주파수의 신호들이 하나의 전송 매체를 공유할 때, 주파수 간의 상호작용으로 새로운 주파수 생성
- **충격 잡음(Impluse Noise)**
  - 순간적으로 높은 진폭의 잡음
  - 외부적인 요인(예:번개)또는 기계적 결함으로 인해 발생

### 전송 오류 제어 방식
- 전진 오류 수정(FEC, Forward Crror Correction)
  - 수신측에서 <u>재전송 요구 없이</u> 스스로 오류를 검출하고 <u>수정하는 방식</u>
  - <u>해밍코드(Hamming Code),상승 코드(Reed-Solomon Code)등</u>
- 후진 오류 수정(BEC, Backward Error Correction)
  - 오류 발견 시 송신측에 <u>재전송</u>을 요구하는 방식
  - 오류제어는 ARQ에 의해 수행됨

### 오류 검출(종류만 알아두기!!)
- **패리티(Parity)검사**
  - 데이터 블록 끝에 추가되는 패리티 비트를 통해 오류 검출
- **순환 중복 검사(CRC,Cyclic Redundancy Check)**
  - 데이터 뒤에 오류검출 코드인 FCS(Frame Check Sequence)를 추가하는 방식
- **체크섬(Checksum)**
  - 간단한 방법으로 데이터 오류 검출
- **해밍코드(Hamming Code)**
  - 수신측에서 오류를 검출하고 자동으로 수정하는 방식
- **상승코드**
  - 순차적으로 디코딩 및 한계값 디코딩을 사용한 오류 수정 방식
  - 해밍코드와 유사하게 오류를 검출하고 정정